(self.webpackChunktea_tracker=self.webpackChunktea_tracker||[]).push([[598],{304:function(e,t,n){!function(e,t){"use strict";function n(e){return e*Math.PI/180}function a(e,t,n){return e>n?n:e<t?t:e}function r(e,t){return t/100*e}function i(e,t){return e+t/2}function s(e,t){var a=n(e);return{dx:t*Math.cos(a),dy:t*Math.sin(a)}}function l(e){return"number"===typeof e}function o(e,t){return"function"===typeof e?e(t):e}function c(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].value;return t}function u(e){for(var t=e.data,n=e.lengthAngle,i=e.totalValue,s=e.paddingAngle,l=e.startAngle,o=i||c(t),u=a(n,-360,360),d=360===Math.abs(u)?t.length:t.length-1,h=Math.abs(s)*Math.sign(n),f=u-h*d,v=0,g=[],m=0;m<t.length;m++){var x=t[m],y=0===o?0:x.value/o*100,b=r(f,y),p=v+l;v=v+b+h,g.push(Object.assign({percentage:y,startAngle:p,degrees:b},x))}return g}function d(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}var h,f,v=["dataEntry","dataIndex"];function g(e){var n=e.renderLabel,a=e.labelProps,r=n(a);if("string"===typeof r||"number"===typeof r){a.dataEntry,a.dataIndex;var i=d(a,v);return t.createElement("text",Object.assign({dominantBaseline:"central"},i),r)}return t.isValidElement(r)?r:null}function m(e){var t=1e14;return Math.round((e+Number.EPSILON)*t)/t}function x(e){var t=e.labelPosition,n=e.lineWidth,a=m(e.labelHorizontalShift);return 0===a?"middle":t>100?a>0?"start":"end":t<100-n?a>0?"end":"start":"middle"}function y(e,t){return e.map((function(e,n){var a,l=null!=(a=o(t.segmentsShift,n))?a:0,c=r(t.radius,t.labelPosition)+l,u=s(i(e.startAngle,e.degrees),c),d=u.dx,h=u.dy;return{x:t.center[0],y:t.center[1],dx:d,dy:h,textAnchor:x({labelPosition:t.labelPosition,lineWidth:t.lineWidth,labelHorizontalShift:d}),dataEntry:e,dataIndex:n,style:o(t.labelStyle,n)}}))}function b(e,n){var a=n.label;if(a)return y(e,n).map((function(e,n){return t.createElement(g,{key:"label-"+(e.dataEntry.key||n),renderLabel:a,labelProps:e})}))}function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j(){return f?h:(f=1,h=function(e,t,n,a,r){var i=r-a;if(0===i)return[];var s=n*Math.cos(a)+e,l=n*Math.sin(a)+t,o=n*Math.cos(r)+e,c=n*Math.sin(r)+t;return[["M",s,l],["A",n,n,0,Math.abs(i)<=Math.PI?"0":"1",i<0?"0":"1",o,c]]})}var k=p(j()),A=["cx","cy","lengthAngle","lineWidth","radius","shift","reveal","rounded","startAngle","title"];function M(e,t,r,i,s){var l=a(i,-359.999,359.999);return k(e,t,s,n(r),n(r+l)).map((function(e){return e.join(" ")})).join(" ")}function N(e){var a,o,c=e.cx,u=e.cy,h=e.lengthAngle,f=e.lineWidth,v=e.radius,g=e.shift,m=void 0===g?0:g,x=e.reveal,y=e.rounded,b=e.startAngle,p=e.title,j=d(e,A),k=v-f/2,N=s(i(b,h),m),w=M(c+N.dx,u+N.dy,b,h,k);if(l(x)){var E=n(k)*h;o=(a=Math.abs(E))-r(a,x)}return t.createElement("path",Object.assign({d:w,fill:"none",strokeWidth:f,strokeDasharray:a,strokeDashoffset:o,strokeLinecap:y?"round":void 0},j),p&&t.createElement("title",null,p))}function w(e,t,n){var a="stroke-dashoffset "+e+"ms "+t;return n&&n.transition&&(a=a+","+n.transition),{transition:a}}function E(e){var t=e.reveal;return e.animate&&!l(t)?100:t}function O(e,t){return e&&function(n){e(n,t)}}function S(e,n,a){var i=null!=a?a:E(n),s=n.radius,l=n.center,c=l[0],u=l[1],d=r(s,n.lineWidth),h=e.map((function(e,a){var r=o(n.segmentsStyle,a);return t.createElement(N,{cx:c,cy:u,key:e.key||a,lengthAngle:e.degrees,lineWidth:d,radius:s,rounded:n.rounded,reveal:i,shift:o(n.segmentsShift,a),startAngle:e.startAngle,title:e.title,style:Object.assign({},r,n.animate&&w(n.animationDuration,n.animationEasing,r)),stroke:e.color,tabIndex:n.segmentsTabIndex,onBlur:O(n.onBlur,a),onClick:O(n.onClick,a),onFocus:O(n.onFocus,a),onKeyDown:O(n.onKeyDown,a),onMouseOver:O(n.onMouseOver,a),onMouseOut:O(n.onMouseOut,a)})}));return n.background&&h.unshift(t.createElement(N,{cx:c,cy:u,key:"bg",lengthAngle:n.lengthAngle,lineWidth:d,radius:s,rounded:n.rounded,startAngle:n.startAngle,stroke:n.background})),h}var P={animationDuration:500,animationEasing:"ease-out",center:[50,50],data:[],labelPosition:50,lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,startAngle:0,viewBoxSize:[100,100]};function W(e){var t,n=Object.assign({},P,e);for(t in P)void 0===e[t]&&(n[t]=P[t]);return n}function I(e){var n=W(e),a=t.useState(n.animate?0:null),r=a[0],i=a[1];t.useEffect((function(){n.animate&&i(null)}),[]);var s=u(n);return t.createElement("svg",{viewBox:"0 0 "+n.viewBoxSize[0]+" "+n.viewBoxSize[1],width:"100%",height:"100%",className:n.className,style:n.style},S(s,n,r),b(s,n),n.children)}e.PieChart=I,e.pieChartDefaultProps=P}(t,n(43))},598:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(43);var a=n(832),r=n(646),i=n(171),s=n(304),l=n(579);const o=()=>{const{teas:e}=(0,a.y)(),{preferences:t}=(0,i.g)(),n={total:e.length,lowStock:e.filter((e=>e.lowStockThreshold&&e.amount<=e.lowStockThreshold)).length,favorites:e.filter((e=>t.favoriteTeaIds.includes(e.id))).length,types:Object.values(r.Ln).reduce(((t,n)=>(t[n]=e.filter((e=>e.type===n)).length,t)),{})},o=Object.entries(n.types).filter((e=>{let[t,n]=e;return n>0})).map(((e,t)=>{let[a,r]=e;return{title:a,value:r,color:`hsl(${t*(360/Object.keys(n.types).length)}, 70%, 50%)`}}));return(0,l.jsxs)("div",{className:"tea-overview",children:[(0,l.jsxs)("div",{className:"stats-grid",children:[(0,l.jsxs)("div",{className:"stat-card total",children:[(0,l.jsx)("h3",{children:"Total Teas"}),(0,l.jsx)("div",{className:"stat-value",children:n.total})]}),(0,l.jsxs)("div",{className:"stat-card low-stock",children:[(0,l.jsx)("h3",{children:"Low Stock"}),(0,l.jsx)("div",{className:"stat-value",children:n.lowStock})]}),(0,l.jsxs)("div",{className:"stat-card favorites",children:[(0,l.jsx)("h3",{children:"Favorites"}),(0,l.jsx)("div",{className:"stat-value",children:n.favorites})]})]}),(0,l.jsx)("div",{className:"charts-section",children:(0,l.jsxs)("div",{className:"chart-container",children:[(0,l.jsx)("h3",{children:"Tea Types Distribution"}),(0,l.jsxs)("div",{className:"chart-content",children:[(0,l.jsx)("div",{className:"pie-chart",children:(0,l.jsx)(s.PieChart,{data:o,radius:42,animate:!0})}),(0,l.jsx)("div",{className:"chart-legend",children:o.map((e=>{let{title:t,value:n,color:a}=e;return(0,l.jsxs)("div",{className:"legend-item",children:[(0,l.jsx)("span",{className:"color-dot",style:{backgroundColor:a}})," ",(0,l.jsxs)("span",{className:"legend-text",children:[(0,l.jsx)("strong",{children:t}),": ",n]})]},t)}))})]})]})})]})}}}]);
//# sourceMappingURL=598.580e474a.chunk.js.map